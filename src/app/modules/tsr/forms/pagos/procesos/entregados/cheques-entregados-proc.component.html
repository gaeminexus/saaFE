<div class="cheques-entregados-proc">
  <mat-card>
    <mat-card-title>Procesos · Cheques Entregados</mat-card-title>
    <mat-card-content>
      <div class="filters">
        <mat-form-field appearance="outline">
          <mat-label>Fecha inicio</mat-label>
          <input matInput [matDatepicker]="d1" (dateChange)="fechaInicio.set($event.value)" />
          <mat-datepicker-toggle matSuffix [for]="d1"></mat-datepicker-toggle>
          <mat-datepicker #d1></mat-datepicker>
        </mat-form-field>

        <mat-form-field appearance="outline">
          <mat-label>Fecha fin</mat-label>
          <input matInput [matDatepicker]="d2" (dateChange)="fechaFin.set($event.value)" />
          <mat-datepicker-toggle matSuffix [for]="d2"></mat-datepicker-toggle>
          <mat-datepicker #d2></mat-datepicker>
        </mat-form-field>

        <mat-form-field appearance="outline" class="full">
          <mat-label>Beneficiario</mat-label>
          <input matInput (input)="beneficiario.set($any($event.target).value)" />
        </mat-form-field>

        <mat-form-field appearance="outline">
          <mat-label>Banco</mat-label>
          <input matInput (input)="banco.set($any($event.target).value)" />
        </mat-form-field>

        <mat-form-field appearance="outline">
          <mat-label>Cuenta</mat-label>
          <input matInput (input)="cuenta.set($any($event.target).value)" />
        </mat-form-field>
      </div>

      <div class="actions">
        <button mat-stroked-button color="basic" (click)="limpiar()">
          <mat-icon>refresh</mat-icon>
          Limpiar filtros
        </button>
      </div>

      <div class="table-wrapper">
        <table mat-table [dataSource]="filtered()" class="mat-elevation-z1 full-width">
          <ng-container matColumnDef="numero">
            <th mat-header-cell *matHeaderCellDef>Número</th>
            <td mat-cell *matCellDef="let r">{{ r.numero }}</td>
          </ng-container>

          <ng-container matColumnDef="beneficiario">
            <th mat-header-cell *matHeaderCellDef>Beneficiario</th>
            <td mat-cell *matCellDef="let r">{{ r.beneficiario }}</td>
          </ng-container>

          <ng-container matColumnDef="banco">
            <th mat-header-cell *matHeaderCellDef>Banco</th>
            <td mat-cell *matCellDef="let r">{{ r.banco }}</td>
          </ng-container>

          <ng-container matColumnDef="cuenta">
            <th mat-header-cell *matHeaderCellDef>Cuenta</th>
            <td mat-cell *matCellDef="let r">{{ r.cuenta }}</td>
          </ng-container>

          <ng-container matColumnDef="fecha">
            <th mat-header-cell *matHeaderCellDef>Entrega</th>
            <td mat-cell *matCellDef="let r">{{ r.fechaEntrega }}</td>
          </ng-container>

          <ng-container matColumnDef="valor">
            <th mat-header-cell *matHeaderCellDef>Valor</th>
            <td mat-cell *matCellDef="let r">{{ r.valor | number : '1.2-2' }}</td>
          </ng-container>

          <tr
            mat-header-row
            *matHeaderRowDef="['numero', 'beneficiario', 'banco', 'cuenta', 'fecha', 'valor']"
          ></tr>
          <tr
            mat-row
            *matRowDef="
              let row;
              columns: ['numero', 'beneficiario', 'banco', 'cuenta', 'fecha', 'valor']
            "
          ></tr>
        </table>
      </div>

      <div class="totals">
        Registros: <strong>{{ filtered().length }}</strong> — Total:
        <strong>{{ total() | number : '1.2-2' }}</strong>
      </div>
    </mat-card-content>
  </mat-card>
</div>
