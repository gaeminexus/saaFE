<div class="depositos-envio-container">
  <div class="toolbar">
    <h2>Depósitos - Envío</h2>
    <div class="filters">
      <mat-form-field appearance="outline" class="field">
        <mat-label>Fecha de envío</mat-label>
        <input
          matInput
          [matDatepicker]="picker"
          [value]="fechaEnvio()"
          (dateChange)="fechaEnvio.set($event.value)"
        />
        <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
        <mat-datepicker #picker></mat-datepicker>
      </mat-form-field>

      <mat-form-field appearance="outline" class="field">
        <mat-label>Banco</mat-label>
        <input
          matInput
          type="number"
          [value]="bancoCodigo() ?? ''"
          (input)="bancoCodigo.set($any($event.target).value ? +$any($event.target).value : null)"
        />
      </mat-form-field>

      <mat-form-field appearance="outline" class="field">
        <mat-label>Número de depósito</mat-label>
        <input
          matInput
          [value]="numeroDeposito()"
          (input)="numeroDeposito.set($any($event.target).value)"
        />
      </mat-form-field>

      <mat-form-field appearance="outline" class="field">
        <mat-label>Monto</mat-label>
        <input
          matInput
          type="number"
          [value]="monto() ?? ''"
          (input)="monto.set($any($event.target).value ? +$any($event.target).value : null)"
        />
      </mat-form-field>

      <mat-form-field appearance="outline" class="field field--wide">
        <mat-label>Observación</mat-label>
        <input
          matInput
          [value]="observacion()"
          (input)="observacion.set($any($event.target).value)"
        />
      </mat-form-field>

      <mat-form-field appearance="outline" class="field">
        <mat-label>Nombre Usuario</mat-label>
        <input
          matInput
          [value]="nombreUsuario()"
          (input)="nombreUsuario.set($any($event.target).value)"
        />
      </mat-form-field>

      <button
        mat-raised-button
        color="primary"
        (click)="enviarDeposito()"
        [disabled]="loading() || !canEnviar()"
      >
        <mat-icon>send</mat-icon>
        Enviar Depósito
      </button>
    </div>
  </div>

  @if (errorMsg()) {
  <div class="error">{{ errorMsg() }}</div>
  }
</div>
